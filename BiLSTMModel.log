2024-10-04 14:58:16,159 - INFO - Logging is set up.
2024-10-04 14:58:16,159 - INFO - Используемое устройство: cuda
2024-10-04 14:58:16,159 - INFO - Numerical columns for scaling: ['open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 14:58:16,159 - INFO - Categorical columns: ['symbol', 'interval']
2024-10-04 14:58:16,212 - INFO - Комбинированные данные загружены из data/combined_dataset.csv
2024-10-04 14:58:16,249 - INFO - Порядок столбцов после fit_transform: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 14:58:16,251 - INFO - DataProcessor сохранен: models/data_processor_ETHUSDT_v2.0.pkl
2024-10-04 14:58:16,251 - INFO - num_symbols: 2, num_intervals: 3
2024-10-04 14:58:16,251 - INFO - Columns after processing: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 14:58:17,120 - WARNING - Файл модели models/enhanced_bilstm_model_ETHUSDT_v2.0.pth не найден. Будет создана новая модель.
2024-10-04 14:58:39,738 - INFO - Epoch 1/5 - Loss: 8542312438637.7139
2024-10-04 14:58:39,812 - INFO - Модель сохранена в models/enhanced_bilstm_model_ETHUSDT_v2.0.pth, а оптимизатор в models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 14:58:39,812 - INFO - Validation loss improved to 8542312438637.7139. Model saved.
2024-10-04 14:59:01,525 - INFO - Epoch 2/5 - Loss: 8539763204486.0957
2024-10-04 14:59:01,606 - INFO - Модель сохранена в models/enhanced_bilstm_model_ETHUSDT_v2.0.pth, а оптимизатор в models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 14:59:01,606 - INFO - Validation loss improved to 8539763204486.0957. Model saved.
2024-10-04 14:59:22,645 - INFO - Epoch 3/5 - Loss: 8548928116833.5234
2024-10-04 14:59:22,645 - INFO - No improvement in validation loss. (1/5)
2024-10-04 14:59:22,645 - INFO - Reducing learning rate to: 0.00025
2024-10-04 14:59:44,431 - INFO - Epoch 4/5 - Loss: 8538897714224.7617
2024-10-04 14:59:44,516 - INFO - Модель сохранена в models/enhanced_bilstm_model_ETHUSDT_v2.0.pth, а оптимизатор в models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 14:59:44,516 - INFO - Validation loss improved to 8538897714224.7617. Model saved.
2024-10-04 15:00:06,323 - INFO - Epoch 5/5 - Loss: 8540099934695.6191
2024-10-04 15:00:06,323 - INFO - No improvement in validation loss. (1/5)
2024-10-04 15:00:06,323 - INFO - Reducing learning rate to: 0.000125
2024-10-04 15:00:06,324 - INFO - Скрипт запущен
2024-10-04 15:00:06,700 - INFO - Binance API доступен. Время сервера: 2024-10-04 12:00:06
2024-10-04 15:00:07,754 - INFO - Обновление данных для ETHUSDT с 1728043020001 до 1728043200000 (2024-10-04 11:57:00 до 2024-10-04 12:00:00)
2024-10-04 15:00:08,190 - INFO - Данные сохранены в data/ETHUSDT_1_data.csv
2024-10-04 15:00:08,833 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:00:08,834 - INFO - Сводка данных для ETHUSDT (1):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        ETHUSDT    1          1728043200000 2386.199951171875 2386.35009765625 2386.1201171875 2386.340087890625 1.7990000247955322 4292.9033203125 240        1.63100004196167 3892.02099609375 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1727265480000        ETHUSDT    1          1727265480000 2627.39990234375 2627.89990234375 2627.39990234375 2627.820068359375 76.50299835205078 201012.703125 842        67.06340026855469 176209.25  11         6          0.258819043636322 -0.9659258127212524 -0.7818315029144287 0.6234897971153259

2024-10-04 15:00:09,476 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:00:09,476 - INFO - ------------------------
2024-10-04 15:00:11,508 - INFO - Обновление данных для ETHUSDT с 1728042900001 до 1728043200000 (2024-10-04 11:55:00 до 2024-10-04 12:00:00)
2024-10-04 15:00:11,913 - INFO - Данные сохранены в data/ETHUSDT_5_data.csv
2024-10-04 15:00:12,565 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:00:12,567 - INFO - Сводка данных для ETHUSDT (5):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        ETHUSDT    5          1728043200000 2386.199951171875 2386.719970703125 2386.1201171875 2386.719970703125 10.690500259399414 25512.998046875 573        8.301799774169922 19811.94921875 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1726488000000        ETHUSDT    5          1726488000000 2307.800048828125 2310.610107421875 2306.60009765625 2309.989990234375 749.1240234375 1729554.25 5211       555.8009033203125 1283180.625 12         4          1.2246468525851679e-16 -1.0       -0.4338837265968323 -0.9009688496589661

2024-10-04 15:00:13,214 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:00:13,215 - INFO - ------------------------
2024-10-04 15:00:15,254 - INFO - Обновление данных для ETHUSDT с 1728042300001 до 1728043200000 (2024-10-04 11:45:00 до 2024-10-04 12:00:00)
2024-10-04 15:00:15,635 - INFO - Данные сохранены в data/ETHUSDT_15_data.csv
2024-10-04 15:00:16,281 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:00:16,283 - INFO - Сводка данных для ETHUSDT (15):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        ETHUSDT    15         1728043200000 2386.199951171875 2386.800048828125 2386.1201171875 2386.800048828125 13.31779956817627 31783.779296875 624        10.775699615478516 25716.595703125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1724932800000        ETHUSDT    15         1724932800000 2555.199951171875 2558.4599609375 2552.139892578125 2556.7900390625 1688.5289306640625 4314773.5  17545      720.7266845703125 1841737.125 12         0          1.2246468525851679e-16 -1.0       0.0        1.0       

2024-10-04 15:00:16,956 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:00:16,957 - INFO - ------------------------
2024-10-04 15:00:19,006 - INFO - Обновление данных для BTCUSDT с 1728043020001 до 1728043200000 (2024-10-04 11:57:00 до 2024-10-04 12:00:00)
2024-10-04 15:00:19,441 - INFO - Данные сохранены в data/BTCUSDT_1_data.csv
2024-10-04 15:00:20,082 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:00:20,083 - INFO - Сводка данных для BTCUSDT (1):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        BTCUSDT    1          1728043200000 61449.83984375 61458.0    61448.98828125 61458.0    1.6986500024795532 104382.9375 452        1.530400037765503 94043.8125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1727265480000        BTCUSDT    1          1727265480000 63842.640625 63848.0    63838.0    63838.0    4.534259796142578 289491.6875 912        3.17549991607666 202743.3125 11         6          0.258819043636322 -0.9659258127212524 -0.7818315029144287 0.6234897971153259

2024-10-04 15:00:20,730 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:00:20,731 - INFO - ------------------------
2024-10-04 15:00:22,771 - INFO - Обновление данных для BTCUSDT с 1728042900001 до 1728043200000 (2024-10-04 11:55:00 до 2024-10-04 12:00:00)
2024-10-04 15:00:23,159 - INFO - Данные сохранены в data/BTCUSDT_5_data.csv
2024-10-04 15:00:23,803 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:00:23,805 - INFO - Сводка данных для BTCUSDT (5):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        BTCUSDT    5          1728043200000 61449.83984375 61458.0    61448.98828125 61457.98828125 1.8829599618911743 115710.2578125 481        1.6337900161743164 100397.953125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1726488000000        BTCUSDT    5          1726488000000 58664.0    58735.98828125 58642.0    58718.0    33.45286178588867 1963466.625 7261       20.301000595092773 1191636.0  12         4          1.2246468525851679e-16 -1.0       -0.4338837265968323 -0.9009688496589661

2024-10-04 15:00:24,484 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:00:24,484 - INFO - ------------------------
2024-10-04 15:00:26,522 - INFO - Обновление данных для BTCUSDT с 1728042300001 до 1728043200000 (2024-10-04 11:45:00 до 2024-10-04 12:00:00)
2024-10-04 15:00:26,907 - INFO - Данные сохранены в data/BTCUSDT_15_data.csv
2024-10-04 15:00:27,543 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:00:27,544 - INFO - Сводка данных для BTCUSDT (15):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        BTCUSDT    15         1728043200000 61449.83984375 61458.859375 61448.98828125 61458.8515625 1.9523299932479858 119973.609375 573        1.700569987297058 104502.1328125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1724932800000        BTCUSDT    15         1724932800000 60067.05859375 60181.078125 59990.0    60084.0    265.12481689453125 15928289.0 36208      115.03851318359375 6911768.0  12         0          1.2246468525851679e-16 -1.0       0.0        1.0       

2024-10-04 15:00:28,185 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:00:28,186 - INFO - ------------------------
2024-10-04 15:00:29,186 - INFO - Все файлы обновлены с последними ценами.
2024-10-04 15:00:29,186 - INFO - Выполнение методов get_current_price и get_latest_prices для всех символов и интервалов.
2024-10-04 15:00:29,535 - INFO - Текущая цена для ETHUSDT (1):
    symbol  interval      timestamp         open         high          low        close     volume  ...  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  ETHUSDT         1  1728043200000  2386.199951  2386.800049  2386.120117  2386.800049  34.957901  ...                    26.143101                  62395.507812    12          1  1.224647e-16      -1.0  0.781832  0.62349

[1 rows x 18 columns]
2024-10-04 15:00:29,570 - INFO - Последняя цена для ETHUSDT (1):
      symbol  interval      timestamp     open     high      low    close    volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
1    ETHUSDT         1  1728043200000  2386.20  2386.35  2386.12  2386.34    1.7990           4292.9033               240                       1.6310                      3892.021    12          1  1.224647e-16 -1.000000  0.781832  0.62349
7    ETHUSDT         1  1728043140000  2386.28  2386.28  2386.10  2386.20   31.7343          75723.2600               283                      11.8898                     28370.477    11          1  2.588190e-01 -0.965926  0.781832  0.62349
8    ETHUSDT         1  1728043080000  2385.66  2386.49  2385.66  2386.28   98.3319         234619.6600              1137                      81.8802                    195358.860    11          1  2.588190e-01 -0.965926  0.781832  0.62349
11   ETHUSDT         1  1728043020000  2384.39  2384.75  2384.39  2384.75   14.2419          33960.1050               345                      10.2421                     24422.209    11          1  2.588190e-01 -0.965926  0.781832  0.62349
13   ETHUSDT         1  1728042960000  2383.53  2384.90  2383.53  2384.33   52.9370         126222.0300              1423                      20.0961                     47915.880    11          1  2.588190e-01 -0.965926  0.781832  0.62349
..       ...       ...            ...      ...      ...      ...      ...       ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
749  ETHUSDT         1  1728025500000  2374.30  2375.39  2373.36  2375.00  146.0864         346940.8400              1930                      44.4055                    105446.945     7          1  9.659258e-01 -0.258819  0.781832  0.62349
753  ETHUSDT         1  1728025440000  2374.05  2375.60  2374.04  2374.31  250.7246         595512.5000              1819                      61.1207                    145158.720     7          1  9.659258e-01 -0.258819  0.781832  0.62349
754  ETHUSDT         1  1728025380000  2372.96  2374.56  2372.84  2374.04   70.2416         166748.8100              2603                      52.6047                    124878.110     7          1  9.659258e-01 -0.258819  0.781832  0.62349
757  ETHUSDT         1  1728025320000  2372.88  2374.17  2372.88  2372.96   38.5711          91549.9140              1956                      15.0495                     35719.426     7          1  9.659258e-01 -0.258819  0.781832  0.62349
758  ETHUSDT         1  1728025260000  2372.79  2373.49  2371.81  2372.88  126.1013         299212.2000              3257                      55.1933                    130967.875     7          1  9.659258e-01 -0.258819  0.781832  0.62349

[300 rows x 18 columns]
2024-10-04 15:00:30,928 - INFO - Текущая цена для ETHUSDT (5):
    symbol  interval      timestamp         open         high          low        close   volume  ...  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  ETHUSDT         5  1728043200000  2386.199951  2386.800049  2386.120117  2386.790039  34.9603  ...                    26.143101                  62395.507812    12          1  1.224647e-16      -1.0  0.781832  0.62349

[1 rows x 18 columns]
2024-10-04 15:00:30,961 - INFO - Последняя цена для ETHUSDT (5):
       symbol  interval      timestamp     open     high      low    close    volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0     ETHUSDT         5  1728043200000  2386.20  2386.72  2386.12  2386.72   10.6905           25512.998               573                       8.3018                     19811.950    12          1  1.224647e-16 -1.000000  0.781832  0.62349
14    ETHUSDT         5  1728042900000  2385.91  2385.98  2383.53  2384.75  176.2637          420376.700              2717                      43.9279                    104751.734    11          1  2.588190e-01 -0.965926  0.781832  0.62349
28    ETHUSDT         5  1728042600000  2384.43  2386.49  2384.00  2385.90  299.4295          714257.300              5393                     160.4486                    382737.660    11          1  2.588190e-01 -0.965926  0.781832  0.62349
39    ETHUSDT         5  1728042300000  2380.61  2384.44  2380.60  2384.44  313.4434          746995.600              4078                     182.0606                    433836.750    11          1  2.588190e-01 -0.965926  0.781832  0.62349
52    ETHUSDT         5  1728042000000  2380.01  2381.46  2379.44  2380.61  194.1151          462134.060              4769                      67.8168                    161456.730    11          1  2.588190e-01 -0.965926  0.781832  0.62349
...       ...       ...            ...      ...      ...      ...      ...       ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
3741  ETHUSDT         5  1727954700000  2354.21  2359.81  2353.98  2356.42  558.1958         1315416.600              7998                     321.8039                    758301.300    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3752  ETHUSDT         5  1727954400000  2362.11  2362.66  2353.51  2354.20  892.8825         2106367.200             11280                     322.1513                    759926.200    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3763  ETHUSDT         5  1727954100000  2366.41  2366.58  2360.52  2362.12  843.7156         1994248.900             10288                     222.5167                    525804.900    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3777  ETHUSDT         5  1727953800000  2366.99  2368.66  2365.15  2366.41  896.8899         2122980.000             10367                     258.4522                    611628.500    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3788  ETHUSDT         5  1727953500000  2368.54  2368.95  2365.38  2366.98  647.3448         1532096.400             15807                     236.3631                    559341.500    11          0  2.588190e-01 -0.965926  0.000000  1.00000

[300 rows x 18 columns]
2024-10-04 15:00:32,312 - INFO - Текущая цена для ETHUSDT (15):
    symbol  interval      timestamp         open         high          low        close   volume  ...  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  ETHUSDT        15  1728043200000  2386.199951  2386.800049  2386.120117  2386.790039  45.5242  ...                    36.623402                  87409.882812    12          1  1.224647e-16      -1.0  0.781832  0.62349

[1 rows x 18 columns]
2024-10-04 15:00:32,343 - INFO - Последняя цена для ETHUSDT (15):
        symbol  interval      timestamp     open     high      low    close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day   cos_day
3      ETHUSDT        15  1728043200000  2386.20  2386.80  2386.12  2386.80    13.3178            31783.78               624                      10.7757                     25716.596    12          1  1.224647e-16 -1.000000  0.781832  0.623490
42     ETHUSDT        15  1728042300000  2380.61  2386.49  2380.60  2384.76   789.9527          1883575.90             12194                     387.0750                    922847.400    11          1  2.588190e-01 -0.965926  0.781832  0.623490
76     ETHUSDT        15  1728041400000  2378.91  2382.00  2378.00  2380.61  1123.2635          2672941.80             14413                     640.7400                   1524555.100    11          1  2.588190e-01 -0.965926  0.781832  0.623490
116    ETHUSDT        15  1728040500000  2379.25  2382.84  2378.21  2378.90  1108.7366          2639710.50             14342                     600.4699                   1429835.400    11          1  2.588190e-01 -0.965926  0.781832  0.623490
154    ETHUSDT        15  1728039600000  2375.17  2379.62  2374.21  2379.24   785.0437          1865993.90             17167                     421.3286                   1001540.400    11          1  2.588190e-01 -0.965926  0.781832  0.623490
...        ...       ...            ...      ...      ...      ...      ...        ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...       ...
11212  ETHUSDT        15  1727777700000  2632.99  2636.86  2631.59  2635.40  2006.5388          5284911.50             16870                     595.3239                   1568155.500    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11252  ETHUSDT        15  1727776800000  2635.19  2637.50  2632.07  2632.99  2018.0824          5316706.00             16263                     733.5127                   1932551.400    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11288  ETHUSDT        15  1727775900000  2637.69  2640.00  2634.65  2635.18  1250.7848          3299279.80             10756                     440.6499                   1162381.600     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11325  ETHUSDT        15  1727775000000  2642.88  2643.25  2636.82  2637.69  2026.0142          5348170.50              9969                     707.4836                   1867484.400     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11364  ETHUSDT        15  1727774100000  2644.86  2645.47  2640.00  2642.87  1630.5599          4308992.50             14437                     794.3692                   2099262.800     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521

[300 rows x 18 columns]
2024-10-04 15:00:33,698 - INFO - Текущая цена для BTCUSDT (1):
    symbol  interval      timestamp          open          high           low         close   volume  ...  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  BTCUSDT         1  1728043200000  61449.839844  61458.859375  61448.988281  61458.851562  2.17407  ...                      1.78327                  109584.78125    12          1  1.224647e-16      -1.0  0.781832  0.62349

[1 rows x 18 columns]
2024-10-04 15:00:33,730 - INFO - Последняя цена для BTCUSDT (1):
      symbol  interval      timestamp      open      high       low     close    volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
4    BTCUSDT         1  1728043200000  61449.84  61458.00  61448.99  61458.00   1.69865           104382.94               452                      1.53040                     94043.810    12          1  1.224647e-16 -1.000000  0.781832  0.62349
6    BTCUSDT         1  1728043140000  61453.41  61453.42  61448.86  61449.84   2.47051           151813.16               343                      0.61908                     38041.945    11          1  2.588190e-01 -0.965926  0.781832  0.62349
9    BTCUSDT         1  1728043080000  61440.00  61465.69  61440.00  61453.41  23.53464          1446280.90              1299                     20.53227                   1261756.200    11          1  2.588190e-01 -0.965926  0.781832  0.62349
10   BTCUSDT         1  1728043020000  61407.99  61440.00  61407.99  61440.00   3.33551           204875.55              1255                      2.90552                    178465.500    11          1  2.588190e-01 -0.965926  0.781832  0.62349
12   BTCUSDT         1  1728042960000  61400.01  61420.00  61400.00  61407.99  10.58171           649807.10              2073                      6.09294                    374137.160    11          1  2.588190e-01 -0.965926  0.781832  0.62349
..       ...       ...            ...       ...       ...       ...       ...       ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
751  BTCUSDT         1  1728025500000  61137.51  61158.00  61126.58  61157.99   2.89088           176742.17              1611                      1.39269                     85146.370     7          1  9.659258e-01 -0.258819  0.781832  0.62349
752  BTCUSDT         1  1728025440000  61120.69  61160.00  61120.69  61137.58  10.45818           639489.90              2130                      7.49281                    458167.160     7          1  9.659258e-01 -0.258819  0.781832  0.62349
755  BTCUSDT         1  1728025380000  61098.53  61126.44  61098.52  61120.69   4.44222           271497.53              1779                      2.11950                    129534.230     7          1  9.659258e-01 -0.258819  0.781832  0.62349
756  BTCUSDT         1  1728025320000  61090.00  61111.61  61090.00  61098.52   7.39564           451889.03              2170                      3.97650                    242969.060     7          1  9.659258e-01 -0.258819  0.781832  0.62349
759  BTCUSDT         1  1728025260000  61078.04  61100.00  61068.00  61090.00   9.06973           554029.94              3636                      2.33557                    142656.160     7          1  9.659258e-01 -0.258819  0.781832  0.62349

[300 rows x 18 columns]
2024-10-04 15:00:35,820 - INFO - Текущая цена для BTCUSDT (5):
    symbol  interval      timestamp          open          high           low         close   volume  ...  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  BTCUSDT         5  1728043200000  61449.839844  61458.859375  61448.988281  61458.851562  2.17653  ...                      1.78416                 109639.476562    12          1  1.224647e-16      -1.0  0.781832  0.62349

[1 rows x 18 columns]
2024-10-04 15:00:35,852 - INFO - Последняя цена для BTCUSDT (5):
       symbol  interval      timestamp      open      high       low     close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
2     BTCUSDT         5  1728043200000  61449.84  61458.00  61448.99  61457.99    1.88296           115710.26               481                      1.63379                     100397.95    12          1  1.224647e-16 -1.000000  0.781832  0.62349
17    BTCUSDT         5  1728042900000  61456.00  61456.00  61400.00  61440.00   27.13787          1666718.80              4187                      9.88309                     606960.20    11          1  2.588190e-01 -0.965926  0.781832  0.62349
27    BTCUSDT         5  1728042600000  61465.50  61483.02  61449.70  61456.00   53.31801          3277459.00              6016                     36.07981                    2217850.20    11          1  2.588190e-01 -0.965926  0.781832  0.62349
41    BTCUSDT         5  1728042300000  61394.02  61469.00  61394.01  61465.50   26.63522          1636691.80              5554                     20.24487                    1243993.10    11          1  2.588190e-01 -0.965926  0.781832  0.62349
55    BTCUSDT         5  1728042000000  61359.16  61420.00  61357.16  61394.02   18.31383          1124324.40              4397                     11.14375                     684145.40    11          1  2.588190e-01 -0.965926  0.781832  0.62349
...       ...       ...            ...       ...       ...       ...       ...        ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
3740  BTCUSDT         5  1727954700000  60689.02  60794.72  60679.94  60722.05   82.29679          4998126.50             12327                     16.69351                    1013791.94    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3751  BTCUSDT         5  1727954400000  60900.00  60905.97  60679.92  60689.02  154.58961          9396492.00             15268                     42.05248                    2555546.20    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3764  BTCUSDT         5  1727954100000  61001.16  61001.17  60900.00  60900.00   49.87969          3039922.50             11046                     13.88404                     846243.25    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3779  BTCUSDT         5  1727953800000  61025.10  61050.41  60994.00  61001.16   23.14982          1412495.80             10519                     12.24533                     747177.75    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3789  BTCUSDT         5  1727953500000  61008.01  61030.31  60991.46  61025.10   30.62289          1868202.90             14827                     18.52064                    1129880.90    11          0  2.588190e-01 -0.965926  0.000000  1.00000

[300 rows x 18 columns]
2024-10-04 15:00:37,200 - INFO - Текущая цена для BTCUSDT (15):
    symbol  interval      timestamp          open          high           low         close   volume  ...  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  BTCUSDT        15  1728043200000  61449.839844  61458.859375  61448.988281  61458.859375  2.19235  ...                      1.79938                 110574.882812    12          1  1.224647e-16      -1.0  0.781832  0.62349

[1 rows x 18 columns]
2024-10-04 15:00:37,231 - INFO - Последняя цена для BTCUSDT (15):
        symbol  interval      timestamp      open      high       low     close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day   cos_day
5      BTCUSDT        15  1728043200000  61449.84  61458.86  61448.99  61458.85    1.95233           119973.61               573                      1.70057                     104502.13    12          1  1.224647e-16 -1.000000  0.781832  0.623490
40     BTCUSDT        15  1728042300000  61394.02  61483.02  61394.01  61439.99  107.23911          6589963.00             15779                     66.35461                    4077825.50    11          1  2.588190e-01 -0.965926  0.781832  0.623490
78     BTCUSDT        15  1728041400000  61320.32  61420.00  61301.75  61394.02  130.54375          8009725.00             22083                     73.86198                    4532674.50    11          1  2.588190e-01 -0.965926  0.781832  0.623490
115    BTCUSDT        15  1728040500000  61411.99  61460.00  61320.31  61320.31  235.35864         14443928.00             19323                     38.81200                    2383073.20    11          1  2.588190e-01 -0.965926  0.781832  0.623490
153    BTCUSDT        15  1728039600000  61284.01  61420.00  61274.00  61411.99   87.25890          5352607.50             21776                     52.50074                    3220560.50    11          1  2.588190e-01 -0.965926  0.781832  0.623490
...        ...       ...            ...       ...       ...       ...       ...        ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...       ...
11211  BTCUSDT        15  1727777700000  63753.91  63871.44  63750.00  63850.00  100.80818          6433290.50             20646                     54.13152                    3454072.00    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11249  BTCUSDT        15  1727776800000  63864.47  63892.39  63707.89  63753.91  275.74530         17594600.00             25454                     88.56388                    5651176.00    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11290  BTCUSDT        15  1727775900000  63943.54  63964.00  63864.46  63864.46  111.21354          7110134.50             12441                     48.73248                    3115494.50     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11328  BTCUSDT        15  1727775000000  64058.00  64058.01  63941.32  63943.54  111.65746          7145016.00             15286                     33.55119                    2146673.50     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11365  BTCUSDT        15  1727774100000  64086.78  64088.76  64002.10  64058.00  148.36633          9502988.00             19282                     63.49062                    4066586.80     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521

[300 rows x 18 columns]
2024-10-04 15:00:38,231 - INFO - Завершено.
2024-10-04 15:00:38,268 - INFO - Latest dataset loaded with 300 records.
2024-10-04 15:00:38,270 - INFO - Порядок столбцов после transform: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:00:38,270 - INFO - Типы данных после transform:
2024-10-04 15:00:38,270 - INFO - symbol                            int64
interval                          int64
timestamp                         int64
open                            float32
high                            float32
low                             float32
close                           float32
volume                          float32
quote_asset_volume              float32
number_of_trades                  int64
taker_buy_base_asset_volume     float32
taker_buy_quote_asset_volume    float32
hour                              int64
dayofweek                         int64
sin_hour                        float32
cos_hour                        float32
sin_day                         float32
cos_day                         float32
dtype: object
2024-10-04 15:00:38,351 - INFO - Predicted prices saved to data/predictions.csv.
2024-10-04 15:00:38,353 - INFO - Logging is set up.
2024-10-04 15:00:38,353 - INFO - Используемое устройство: cuda
2024-10-04 15:00:38,353 - INFO - DataProcessor загружен: models/data_processor_ETHUSDT_v2.0.pkl
2024-10-04 15:00:38,390 - INFO - Комбинированные данные загружены из data/combined_dataset.csv
2024-10-04 15:00:38,417 - INFO - Порядок столбцов после transform: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:00:38,417 - INFO - Типы данных после transform:
2024-10-04 15:00:38,417 - INFO - symbol                            int64
interval                          int64
timestamp                         int64
open                            float32
high                            float32
low                             float32
close                           float32
volume                          float32
quote_asset_volume              float32
number_of_trades                  int64
taker_buy_base_asset_volume     float32
taker_buy_quote_asset_volume    float32
hour                              int64
dayofweek                         int64
sin_hour                        float32
cos_hour                        float32
sin_day                         float32
cos_day                         float32
dtype: object
2024-10-04 15:00:38,417 - INFO - num_symbols: 2, num_intervals: 3
2024-10-04 15:00:38,418 - INFO - Columns after processing: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:00:38,590 - INFO - Оптимизатор загружен из models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 15:00:38,590 - INFO - Модель загружена из models/enhanced_bilstm_model_ETHUSDT_v2.0.pth.
2024-10-04 15:01:00,316 - INFO - Epoch 1/5 - Loss: 8540045922108.9521
2024-10-04 15:01:00,400 - INFO - Модель сохранена в models/enhanced_bilstm_model_ETHUSDT_v2.0.pth, а оптимизатор в models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 15:01:00,400 - INFO - Validation loss improved to 8540045922108.9521. Model saved.
2024-10-04 15:01:22,197 - INFO - Epoch 2/5 - Loss: 8540763591241.1426
2024-10-04 15:01:22,197 - INFO - No improvement in validation loss. (1/5)
2024-10-04 15:01:22,197 - INFO - Reducing learning rate to: 0.00025
2024-10-04 15:01:44,045 - INFO - Epoch 3/5 - Loss: 8531872615472.7617
2024-10-04 15:01:44,133 - INFO - Модель сохранена в models/enhanced_bilstm_model_ETHUSDT_v2.0.pth, а оптимизатор в models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 15:01:44,133 - INFO - Validation loss improved to 8531872615472.7617. Model saved.
2024-10-04 15:02:05,243 - INFO - Epoch 4/5 - Loss: 8558023326963.8096
2024-10-04 15:02:05,244 - INFO - No improvement in validation loss. (1/5)
2024-10-04 15:02:05,244 - INFO - Reducing learning rate to: 0.000125
2024-10-04 15:02:27,127 - INFO - Epoch 5/5 - Loss: 8555726571812.5713
2024-10-04 15:02:27,127 - INFO - No improvement in validation loss. (2/5)
2024-10-04 15:02:27,127 - INFO - Reducing learning rate to: 6.25e-05
2024-10-04 15:02:27,128 - INFO - Скрипт запущен
2024-10-04 15:02:27,491 - INFO - Binance API доступен. Время сервера: 2024-10-04 12:02:27
2024-10-04 15:02:28,554 - INFO - Обновление данных для ETHUSDT с 1728043200001 до 1728043320000 (2024-10-04 12:00:00 до 2024-10-04 12:02:00)
2024-10-04 15:02:29,027 - INFO - Данные сохранены в data/ETHUSDT_1_data.csv
2024-10-04 15:02:29,684 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:02:29,684 - INFO - Сводка данных для ETHUSDT (1):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043320000        ETHUSDT    1          1728043320000 2386.429931640625 2387.0     2385.330078125 2385.7099609375 69.83499908447266 166666.265625 1260       17.60140037536621 41999.23828125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1727265480000        ETHUSDT    1          1727265480000 2627.39990234375 2627.89990234375 2627.39990234375 2627.820068359375 76.50299835205078 201012.703125 842        67.06340026855469 176209.25  11         6          0.258819043636322 -0.9659258127212524 -0.7818315029144287 0.6234897971153259

2024-10-04 15:02:30,334 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:02:30,334 - INFO - ------------------------
2024-10-04 15:02:31,685 - INFO - Данные для ETHUSDT не требуют обновления. Используются текущие данные.
2024-10-04 15:02:31,685 - INFO - Сводка данных для ETHUSDT (5):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        ETHUSDT    5          1728043200000 2386.199951171875 2386.719970703125 2386.1201171875 2386.719970703125 10.690500259399414 25512.998046875 573        8.301799774169922 19811.94921875 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1726488000000        ETHUSDT    5          1726488000000 2307.800048828125 2310.610107421875 2306.60009765625 2309.989990234375 749.1240234375 1729554.25 5211       555.8009033203125 1283180.625 12         4          1.2246468525851679e-16 -1.0       -0.4338837265968323 -0.9009688496589661

2024-10-04 15:02:32,349 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:02:32,350 - INFO - ------------------------
2024-10-04 15:02:33,699 - INFO - Данные для ETHUSDT не требуют обновления. Используются текущие данные.
2024-10-04 15:02:33,699 - INFO - Сводка данных для ETHUSDT (15):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        ETHUSDT    15         1728043200000 2386.199951171875 2386.800048828125 2386.1201171875 2386.800048828125 13.31779956817627 31783.779296875 624        10.775699615478516 25716.595703125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1724932800000        ETHUSDT    15         1724932800000 2555.199951171875 2558.4599609375 2552.139892578125 2556.7900390625 1688.5289306640625 4314773.5  17545      720.7266845703125 1841737.125 12         0          1.2246468525851679e-16 -1.0       0.0        1.0       

2024-10-04 15:02:34,342 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:02:34,342 - INFO - ------------------------
2024-10-04 15:02:36,389 - INFO - Обновление данных для BTCUSDT с 1728043200001 до 1728043320000 (2024-10-04 12:00:00 до 2024-10-04 12:02:00)
2024-10-04 15:02:36,893 - INFO - Данные сохранены в data/BTCUSDT_1_data.csv
2024-10-04 15:02:37,540 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:02:37,541 - INFO - Сводка данных для BTCUSDT (1):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043320000        BTCUSDT    1          1728043320000 61476.55078125 61502.69921875 61468.359375 61478.171875 19.390039443969727 1192304.5  2793       14.02987003326416 862758.9375 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1727265480000        BTCUSDT    1          1727265480000 63842.640625 63848.0    63838.0    63838.0    4.534259796142578 289491.6875 912        3.17549991607666 202743.3125 11         6          0.258819043636322 -0.9659258127212524 -0.7818315029144287 0.6234897971153259

2024-10-04 15:02:38,186 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:02:38,187 - INFO - ------------------------
2024-10-04 15:02:39,545 - INFO - Данные для BTCUSDT не требуют обновления. Используются текущие данные.
2024-10-04 15:02:39,545 - INFO - Сводка данных для BTCUSDT (5):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        BTCUSDT    5          1728043200000 61449.83984375 61458.0    61448.98828125 61457.98828125 1.8829599618911743 115710.2578125 481        1.6337900161743164 100397.953125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1726488000000        BTCUSDT    5          1726488000000 58664.0    58735.98828125 58642.0    58718.0    33.45286178588867 1963466.625 7261       20.301000595092773 1191636.0  12         4          1.2246468525851679e-16 -1.0       -0.4338837265968323 -0.9009688496589661

2024-10-04 15:02:40,217 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:02:40,217 - INFO - ------------------------
2024-10-04 15:02:41,562 - INFO - Данные для BTCUSDT не требуют обновления. Используются текущие данные.
2024-10-04 15:02:41,563 - INFO - Сводка данных для BTCUSDT (15):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        BTCUSDT    15         1728043200000 61449.83984375 61458.859375 61448.98828125 61458.8515625 1.9523299932479858 119973.609375 573        1.700569987297058 104502.1328125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1724932800000        BTCUSDT    15         1724932800000 60067.05859375 60181.078125 59990.0    60084.0    265.12481689453125 15928289.0 36208      115.03851318359375 6911768.0  12         0          1.2246468525851679e-16 -1.0       0.0        1.0       

2024-10-04 15:02:42,222 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:02:42,222 - INFO - ------------------------
2024-10-04 15:02:43,222 - INFO - Все файлы обновлены с последними ценами.
2024-10-04 15:02:43,223 - INFO - Выполнение методов get_current_price и get_latest_prices для всех символов и интервалов.
2024-10-04 15:02:43,574 - INFO - Текущая цена для ETHUSDT (1):
    symbol  interval      timestamp         open    high          low        close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  ETHUSDT         1  1728043320000  2386.429932  2387.0  2385.330078  2385.590088  78.198601       186618.484375              1324                      24.4555                  58350.378906    12          1  1.224647e-16      -1.0  0.781832  0.62349
2024-10-04 15:02:43,608 - INFO - Последняя цена для ETHUSDT (1):
      symbol  interval      timestamp     open     high      low    close    volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0    ETHUSDT         1  1728043320000  2386.43  2387.00  2385.33  2385.71   69.8350         166666.2700              1260                      17.6014                     41999.240    12          1  1.224647e-16 -1.000000  0.781832  0.62349
3    ETHUSDT         1  1728043260000  2386.00  2386.42  2385.26  2386.42   62.1799         148348.3400              1185                      35.5650                     84850.890    12          1  1.224647e-16 -1.000000  0.781832  0.62349
6    ETHUSDT         1  1728043200000  2386.20  2386.35  2386.12  2386.34    1.7990           4292.9033               240                       1.6310                      3892.021    12          1  1.224647e-16 -1.000000  0.781832  0.62349
11   ETHUSDT         1  1728043140000  2386.28  2386.28  2386.10  2386.20   31.7343          75723.2600               283                      11.8898                     28370.477    11          1  2.588190e-01 -0.965926  0.781832  0.62349
12   ETHUSDT         1  1728043080000  2385.66  2386.49  2385.66  2386.28   98.3319         234619.6600              1137                      81.8802                    195358.860    11          1  2.588190e-01 -0.965926  0.781832  0.62349
..       ...       ...            ...      ...      ...      ...      ...       ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
748  ETHUSDT         1  1728025620000  2374.91  2375.40  2374.58  2374.98  222.3166         528022.8000              1244                     113.6747                    269976.200     7          1  9.659258e-01 -0.258819  0.781832  0.62349
751  ETHUSDT         1  1728025560000  2375.00  2375.19  2374.00  2374.90  194.2533         461271.2000               844                      50.8504                    120737.580     7          1  9.659258e-01 -0.258819  0.781832  0.62349
754  ETHUSDT         1  1728025500000  2374.30  2375.39  2373.36  2375.00  146.0864         346940.8400              1930                      44.4055                    105446.945     7          1  9.659258e-01 -0.258819  0.781832  0.62349
757  ETHUSDT         1  1728025440000  2374.05  2375.60  2374.04  2374.31  250.7246         595512.5000              1819                      61.1207                    145158.720     7          1  9.659258e-01 -0.258819  0.781832  0.62349
759  ETHUSDT         1  1728025380000  2372.96  2374.56  2372.84  2374.04   70.2416         166748.8100              2603                      52.6047                    124878.110     7          1  9.659258e-01 -0.258819  0.781832  0.62349

[300 rows x 18 columns]
2024-10-04 15:02:44,960 - INFO - Текущая цена для ETHUSDT (5):
    symbol  interval      timestamp         open    high         low        close      volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  ETHUSDT         5  1728043200000  2386.199951  2387.0  2385.26001  2385.600098  228.090698         544296.9375              4649                   115.522202                      275660.5    12          1  1.224647e-16      -1.0  0.781832  0.62349
2024-10-04 15:02:44,992 - INFO - Последняя цена для ETHUSDT (5):
       symbol  interval      timestamp     open     high      low    close    volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
4     ETHUSDT         5  1728043200000  2386.20  2386.72  2386.12  2386.72   10.6905           25512.998               573                       8.3018                     19811.950    12          1  1.224647e-16 -1.000000  0.781832  0.62349
21    ETHUSDT         5  1728042900000  2385.91  2385.98  2383.53  2384.75  176.2637          420376.700              2717                      43.9279                    104751.734    11          1  2.588190e-01 -0.965926  0.781832  0.62349
30    ETHUSDT         5  1728042600000  2384.43  2386.49  2384.00  2385.90  299.4295          714257.300              5393                     160.4486                    382737.660    11          1  2.588190e-01 -0.965926  0.781832  0.62349
47    ETHUSDT         5  1728042300000  2380.61  2384.44  2380.60  2384.44  313.4434          746995.600              4078                     182.0606                    433836.750    11          1  2.588190e-01 -0.965926  0.781832  0.62349
58    ETHUSDT         5  1728042000000  2380.01  2381.46  2379.44  2380.61  194.1151          462134.060              4769                      67.8168                    161456.730    11          1  2.588190e-01 -0.965926  0.781832  0.62349
...       ...       ...            ...      ...      ...      ...      ...       ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
3744  ETHUSDT         5  1727954700000  2354.21  2359.81  2353.98  2356.42  558.1958         1315416.600              7998                     321.8039                    758301.300    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3754  ETHUSDT         5  1727954400000  2362.11  2362.66  2353.51  2354.20  892.8825         2106367.200             11280                     322.1513                    759926.200    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3771  ETHUSDT         5  1727954100000  2366.41  2366.58  2360.52  2362.12  843.7156         1994248.900             10288                     222.5167                    525804.900    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3780  ETHUSDT         5  1727953800000  2366.99  2368.66  2365.15  2366.41  896.8899         2122980.000             10367                     258.4522                    611628.500    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3792  ETHUSDT         5  1727953500000  2368.54  2368.95  2365.38  2366.98  647.3448         1532096.400             15807                     236.3631                    559341.500    11          0  2.588190e-01 -0.965926  0.000000  1.00000

[300 rows x 18 columns]
2024-10-04 15:02:46,343 - INFO - Текущая цена для ETHUSDT (15):
    symbol  interval      timestamp         open    high         low        close      volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  ETHUSDT        15  1728043200000  2386.199951  2387.0  2385.26001  2385.600098  228.467499         545195.8125              4653                   115.808899                   276344.4375    12          1  1.224647e-16      -1.0  0.781832  0.62349
2024-10-04 15:02:46,375 - INFO - Последняя цена для ETHUSDT (15):
        symbol  interval      timestamp     open     high      low    close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day   cos_day
7      ETHUSDT        15  1728043200000  2386.20  2386.80  2386.12  2386.80    13.3178            31783.78               624                      10.7757                     25716.596    12          1  1.224647e-16 -1.000000  0.781832  0.623490
42     ETHUSDT        15  1728042300000  2380.61  2386.49  2380.60  2384.76   789.9527          1883575.90             12194                     387.0750                    922847.400    11          1  2.588190e-01 -0.965926  0.781832  0.623490
85     ETHUSDT        15  1728041400000  2378.91  2382.00  2378.00  2380.61  1123.2635          2672941.80             14413                     640.7400                   1524555.100    11          1  2.588190e-01 -0.965926  0.781832  0.623490
123    ETHUSDT        15  1728040500000  2379.25  2382.84  2378.21  2378.90  1108.7366          2639710.50             14342                     600.4699                   1429835.400    11          1  2.588190e-01 -0.965926  0.781832  0.623490
156    ETHUSDT        15  1728039600000  2375.17  2379.62  2374.21  2379.24   785.0437          1865993.90             17167                     421.3286                   1001540.400    11          1  2.588190e-01 -0.965926  0.781832  0.623490
...        ...       ...            ...      ...      ...      ...      ...        ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...       ...
11214  ETHUSDT        15  1727777700000  2632.99  2636.86  2631.59  2635.40  2006.5388          5284911.50             16870                     595.3239                   1568155.500    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11256  ETHUSDT        15  1727776800000  2635.19  2637.50  2632.07  2632.99  2018.0824          5316706.00             16263                     733.5127                   1932551.400    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11292  ETHUSDT        15  1727775900000  2637.69  2640.00  2634.65  2635.18  1250.7848          3299279.80             10756                     440.6499                   1162381.600     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11331  ETHUSDT        15  1727775000000  2642.88  2643.25  2636.82  2637.69  2026.0142          5348170.50              9969                     707.4836                   1867484.400     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11367  ETHUSDT        15  1727774100000  2644.86  2645.47  2640.00  2642.87  1630.5599          4308992.50             14437                     794.3692                   2099262.800     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521

[300 rows x 18 columns]
2024-10-04 15:02:48,480 - INFO - Текущая цена для BTCUSDT (1):
    symbol  interval      timestamp          open          high           low         close   volume  ...  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  BTCUSDT         1  1728043320000  61476.550781  61502.699219  61468.359375  61478.179688  19.6196  ...                     14.10133                   867152.1875    12          1  1.224647e-16      -1.0  0.781832  0.62349

[1 rows x 18 columns]
2024-10-04 15:02:48,514 - INFO - Последняя цена для BTCUSDT (1):
      symbol  interval      timestamp      open      high       low     close    volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
1    BTCUSDT         1  1728043320000  61476.55  61502.70  61468.36  61478.17  19.39004          1192304.50              2793                     14.02987                    862758.940    12          1  1.224647e-16 -1.000000  0.781832  0.62349
2    BTCUSDT         1  1728043260000  61446.55  61476.55  61438.00  61476.55   6.01110           369390.56              2176                      4.16825                    256148.920    12          1  1.224647e-16 -1.000000  0.781832  0.62349
9    BTCUSDT         1  1728043200000  61449.84  61458.00  61448.99  61458.00   1.69865           104382.94               452                      1.53040                     94043.810    12          1  1.224647e-16 -1.000000  0.781832  0.62349
10   BTCUSDT         1  1728043140000  61453.41  61453.42  61448.86  61449.84   2.47051           151813.16               343                      0.61908                     38041.945    11          1  2.588190e-01 -0.965926  0.781832  0.62349
13   BTCUSDT         1  1728043080000  61440.00  61465.69  61440.00  61453.41  23.53464          1446280.90              1299                     20.53227                   1261756.200    11          1  2.588190e-01 -0.965926  0.781832  0.62349
..       ...       ...            ...       ...       ...       ...       ...       ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
749  BTCUSDT         1  1728025620000  61126.08  61129.67  61117.00  61129.60   2.60276           159092.78              1226                      0.73641                     45013.688     7          1  9.659258e-01 -0.258819  0.781832  0.62349
750  BTCUSDT         1  1728025560000  61158.00  61158.00  61122.98  61126.07  19.74179          1206983.20              1685                      4.57920                    279904.340     7          1  9.659258e-01 -0.258819  0.781832  0.62349
755  BTCUSDT         1  1728025500000  61137.51  61158.00  61126.58  61157.99   2.89088           176742.17              1611                      1.39269                     85146.370     7          1  9.659258e-01 -0.258819  0.781832  0.62349
756  BTCUSDT         1  1728025440000  61120.69  61160.00  61120.69  61137.58  10.45818           639489.90              2130                      7.49281                    458167.160     7          1  9.659258e-01 -0.258819  0.781832  0.62349
758  BTCUSDT         1  1728025380000  61098.53  61126.44  61098.52  61120.69   4.44222           271497.53              1779                      2.11950                    129534.230     7          1  9.659258e-01 -0.258819  0.781832  0.62349

[300 rows x 18 columns]
2024-10-04 15:02:49,869 - INFO - Текущая цена для BTCUSDT (5):
    symbol  interval      timestamp          open          high      low         close    volume  ...  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  BTCUSDT         5  1728043200000  61449.839844  61502.699219  61438.0  61478.179688  31.19519  ...                     21.40115                   1315757.875    12          1  1.224647e-16      -1.0  0.781832  0.62349

[1 rows x 18 columns]
2024-10-04 15:02:49,902 - INFO - Последняя цена для BTCUSDT (5):
       symbol  interval      timestamp      open      high       low     close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
8     BTCUSDT         5  1728043200000  61449.84  61458.00  61448.99  61457.99    1.88296           115710.26               481                      1.63379                     100397.95    12          1  1.224647e-16 -1.000000  0.781832  0.62349
20    BTCUSDT         5  1728042900000  61456.00  61456.00  61400.00  61440.00   27.13787          1666718.80              4187                      9.88309                     606960.20    11          1  2.588190e-01 -0.965926  0.781832  0.62349
33    BTCUSDT         5  1728042600000  61465.50  61483.02  61449.70  61456.00   53.31801          3277459.00              6016                     36.07981                    2217850.20    11          1  2.588190e-01 -0.965926  0.781832  0.62349
46    BTCUSDT         5  1728042300000  61394.02  61469.00  61394.01  61465.50   26.63522          1636691.80              5554                     20.24487                    1243993.10    11          1  2.588190e-01 -0.965926  0.781832  0.62349
57    BTCUSDT         5  1728042000000  61359.16  61420.00  61357.16  61394.02   18.31383          1124324.40              4397                     11.14375                     684145.40    11          1  2.588190e-01 -0.965926  0.781832  0.62349
...       ...       ...            ...       ...       ...       ...       ...        ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
3743  BTCUSDT         5  1727954700000  60689.02  60794.72  60679.94  60722.05   82.29679          4998126.50             12327                     16.69351                    1013791.94    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3756  BTCUSDT         5  1727954400000  60900.00  60905.97  60679.92  60689.02  154.58961          9396492.00             15268                     42.05248                    2555546.20    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3768  BTCUSDT         5  1727954100000  61001.16  61001.17  60900.00  60900.00   49.87969          3039922.50             11046                     13.88404                     846243.25    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3782  BTCUSDT         5  1727953800000  61025.10  61050.41  60994.00  61001.16   23.14982          1412495.80             10519                     12.24533                     747177.75    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3793  BTCUSDT         5  1727953500000  61008.01  61030.31  60991.46  61025.10   30.62289          1868202.90             14827                     18.52064                    1129880.90    11          0  2.588190e-01 -0.965926  0.000000  1.00000

[300 rows x 18 columns]
2024-10-04 15:02:51,254 - INFO - Текущая цена для BTCUSDT (15):
    symbol  interval      timestamp          open          high      low         close     volume  ...  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  BTCUSDT        15  1728043200000  61449.839844  61502.699219  61438.0  61478.988281  31.270041  ...                    21.474689                     1320279.0    12          1  1.224647e-16      -1.0  0.781832  0.62349

[1 rows x 18 columns]
2024-10-04 15:02:51,286 - INFO - Последняя цена для BTCUSDT (15):
        symbol  interval      timestamp      open      high       low     close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day   cos_day
5      BTCUSDT        15  1728043200000  61449.84  61458.86  61448.99  61458.85    1.95233           119973.61               573                      1.70057                     104502.13    12          1  1.224647e-16 -1.000000  0.781832  0.623490
43     BTCUSDT        15  1728042300000  61394.02  61483.02  61394.01  61439.99  107.23911          6589963.00             15779                     66.35461                    4077825.50    11          1  2.588190e-01 -0.965926  0.781832  0.623490
81     BTCUSDT        15  1728041400000  61320.32  61420.00  61301.75  61394.02  130.54375          8009725.00             22083                     73.86198                    4532674.50    11          1  2.588190e-01 -0.965926  0.781832  0.623490
119    BTCUSDT        15  1728040500000  61411.99  61460.00  61320.31  61320.31  235.35864         14443928.00             19323                     38.81200                    2383073.20    11          1  2.588190e-01 -0.965926  0.781832  0.623490
161    BTCUSDT        15  1728039600000  61284.01  61420.00  61274.00  61411.99   87.25890          5352607.50             21776                     52.50074                    3220560.50    11          1  2.588190e-01 -0.965926  0.781832  0.623490
...        ...       ...            ...       ...       ...       ...       ...        ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...       ...
11216  BTCUSDT        15  1727777700000  63753.91  63871.44  63750.00  63850.00  100.80818          6433290.50             20646                     54.13152                    3454072.00    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11254  BTCUSDT        15  1727776800000  63864.47  63892.39  63707.89  63753.91  275.74530         17594600.00             25454                     88.56388                    5651176.00    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11291  BTCUSDT        15  1727775900000  63943.54  63964.00  63864.46  63864.46  111.21354          7110134.50             12441                     48.73248                    3115494.50     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11330  BTCUSDT        15  1727775000000  64058.00  64058.01  63941.32  63943.54  111.65746          7145016.00             15286                     33.55119                    2146673.50     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11366  BTCUSDT        15  1727774100000  64086.78  64088.76  64002.10  64058.00  148.36633          9502988.00             19282                     63.49062                    4066586.80     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521

[300 rows x 18 columns]
2024-10-04 15:02:52,287 - INFO - Завершено.
2024-10-04 15:02:52,315 - INFO - Latest dataset loaded with 300 records.
2024-10-04 15:02:52,317 - INFO - Порядок столбцов после transform: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:02:52,317 - INFO - Типы данных после transform:
2024-10-04 15:02:52,317 - INFO - symbol                            int64
interval                          int64
timestamp                         int64
open                            float32
high                            float32
low                             float32
close                           float32
volume                          float32
quote_asset_volume              float32
number_of_trades                  int64
taker_buy_base_asset_volume     float32
taker_buy_quote_asset_volume    float32
hour                              int64
dayofweek                         int64
sin_hour                        float32
cos_hour                        float32
sin_day                         float32
cos_day                         float32
dtype: object
2024-10-04 15:02:52,392 - INFO - Predicted prices saved to data/predictions.csv.
2024-10-04 15:02:52,393 - INFO - Logging is set up.
2024-10-04 15:02:52,394 - INFO - Используемое устройство: cuda
2024-10-04 15:02:52,394 - INFO - DataProcessor загружен: models/data_processor_ETHUSDT_v2.0.pkl
2024-10-04 15:02:52,429 - INFO - Комбинированные данные загружены из data/combined_dataset.csv
2024-10-04 15:02:52,453 - INFO - Порядок столбцов после transform: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:02:52,453 - INFO - Типы данных после transform:
2024-10-04 15:02:52,453 - INFO - symbol                            int64
interval                          int64
timestamp                         int64
open                            float32
high                            float32
low                             float32
close                           float32
volume                          float32
quote_asset_volume              float32
number_of_trades                  int64
taker_buy_base_asset_volume     float32
taker_buy_quote_asset_volume    float32
hour                              int64
dayofweek                         int64
sin_hour                        float32
cos_hour                        float32
sin_day                         float32
cos_day                         float32
dtype: object
2024-10-04 15:02:52,454 - INFO - num_symbols: 2, num_intervals: 3
2024-10-04 15:02:52,454 - INFO - Columns after processing: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:02:52,625 - INFO - Оптимизатор загружен из models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 15:02:52,625 - INFO - Модель загружена из models/enhanced_bilstm_model_ETHUSDT_v2.0.pth.
2024-10-04 15:03:14,271 - INFO - Epoch 1/5 - Loss: 8545222053692.9521
2024-10-04 15:03:14,357 - INFO - Модель сохранена в models/enhanced_bilstm_model_ETHUSDT_v2.0.pth, а оптимизатор в models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 15:03:14,357 - INFO - Validation loss improved to 8545222053692.9521. Model saved.
2024-10-04 15:03:36,177 - INFO - Epoch 2/5 - Loss: 8546271511308.1904
2024-10-04 15:03:36,177 - INFO - No improvement in validation loss. (1/5)
2024-10-04 15:03:36,178 - INFO - Reducing learning rate to: 0.00025
2024-10-04 15:03:58,114 - INFO - Epoch 3/5 - Loss: 8537285945246.4766
2024-10-04 15:03:58,198 - INFO - Модель сохранена в models/enhanced_bilstm_model_ETHUSDT_v2.0.pth, а оптимизатор в models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 15:03:58,198 - INFO - Validation loss improved to 8537285945246.4766. Model saved.
2024-10-04 15:04:19,195 - INFO - Epoch 4/5 - Loss: 8543428779641.9043
2024-10-04 15:04:19,195 - INFO - No improvement in validation loss. (1/5)
2024-10-04 15:04:19,195 - INFO - Reducing learning rate to: 0.000125
2024-10-04 15:04:41,260 - INFO - Epoch 5/5 - Loss: 8540553405586.2861
2024-10-04 15:04:41,260 - INFO - No improvement in validation loss. (2/5)
2024-10-04 15:04:41,261 - INFO - Reducing learning rate to: 6.25e-05
2024-10-04 15:04:41,261 - INFO - Скрипт запущен
2024-10-04 15:04:41,698 - INFO - Binance API доступен. Время сервера: 2024-10-04 12:04:41
2024-10-04 15:04:42,744 - INFO - Обновление данных для ETHUSDT с 1728043320001 до 1728043440000 (2024-10-04 12:02:00 до 2024-10-04 12:04:00)
2024-10-04 15:04:47,147 - INFO - Logging is set up.
2024-10-04 15:04:47,147 - INFO - Используемое устройство: cuda
2024-10-04 15:04:47,147 - INFO - DataProcessor загружен: models/data_processor_ETHUSDT_v2.0.pkl
2024-10-04 15:04:47,192 - INFO - Комбинированные данные загружены из data/combined_dataset.csv
2024-10-04 15:04:47,222 - INFO - Порядок столбцов после transform: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:04:47,222 - INFO - Типы данных после transform:
2024-10-04 15:04:47,222 - INFO - symbol                            int64
interval                          int64
timestamp                         int64
open                            float32
high                            float32
low                             float32
close                           float32
volume                          float32
quote_asset_volume              float32
number_of_trades                  int64
taker_buy_base_asset_volume     float32
taker_buy_quote_asset_volume    float32
hour                              int64
dayofweek                         int64
sin_hour                        float32
cos_hour                        float32
sin_day                         float32
cos_day                         float32
dtype: object
2024-10-04 15:04:47,223 - INFO - num_symbols: 2, num_intervals: 3
2024-10-04 15:04:47,223 - INFO - Columns after processing: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:04:47,755 - INFO - Оптимизатор загружен из models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 15:04:47,755 - INFO - Модель загружена из models/enhanced_bilstm_model_ETHUSDT_v2.0.pth.
2024-10-04 15:05:34,286 - INFO - Logging is set up.
2024-10-04 15:05:34,286 - INFO - Используемое устройство: cuda
2024-10-04 15:05:34,286 - INFO - Numerical columns for scaling: ['open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:05:34,286 - INFO - Categorical columns: ['symbol', 'interval']
2024-10-04 15:05:34,330 - INFO - Комбинированные данные загружены из data/combined_dataset.csv
2024-10-04 15:05:34,358 - INFO - Порядок столбцов после fit_transform: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:05:34,360 - INFO - DataProcessor сохранен: models/data_processor_ETHUSDT_v2.0.pkl
2024-10-04 15:05:34,360 - INFO - num_symbols: 2, num_intervals: 3
2024-10-04 15:05:34,360 - INFO - Columns after processing: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:05:34,906 - WARNING - Файл модели models/enhanced_bilstm_model_ETHUSDT_v2.0.pth не найден. Будет создана новая модель.
2024-10-04 15:05:56,677 - INFO - Epoch 1/5 - Loss: 8541791771501.7139
2024-10-04 15:05:56,750 - INFO - Модель сохранена в models/enhanced_bilstm_model_ETHUSDT_v2.0.pth, а оптимизатор в models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 15:05:56,750 - INFO - Validation loss improved to 8541791771501.7139. Model saved.
2024-10-04 15:06:18,739 - INFO - Epoch 2/5 - Loss: 8535212036681.1426
2024-10-04 15:06:18,825 - INFO - Модель сохранена в models/enhanced_bilstm_model_ETHUSDT_v2.0.pth, а оптимизатор в models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 15:06:18,825 - INFO - Validation loss improved to 8535212036681.1426. Model saved.
2024-10-04 15:06:40,683 - INFO - Epoch 3/5 - Loss: 8537930911548.9521
2024-10-04 15:06:40,683 - INFO - No improvement in validation loss. (1/5)
2024-10-04 15:06:40,683 - INFO - Reducing learning rate to: 0.00025
2024-10-04 15:07:01,689 - INFO - Epoch 4/5 - Loss: 8535653022963.8096
2024-10-04 15:07:01,689 - INFO - No improvement in validation loss. (2/5)
2024-10-04 15:07:01,689 - INFO - Reducing learning rate to: 0.000125
2024-10-04 15:07:23,780 - INFO - Epoch 5/5 - Loss: 8594974889301.3330
2024-10-04 15:07:23,780 - INFO - No improvement in validation loss. (3/5)
2024-10-04 15:07:23,780 - INFO - Reducing learning rate to: 6.25e-05
2024-10-04 15:07:23,780 - INFO - Скрипт запущен
2024-10-04 15:07:24,213 - INFO - Binance API доступен. Время сервера: 2024-10-04 12:07:24
2024-10-04 15:07:25,301 - INFO - Обновление данных для ETHUSDT с 1728043320001 до 1728043620000 (2024-10-04 12:02:00 до 2024-10-04 12:07:00)
2024-10-04 15:07:25,770 - INFO - Данные сохранены в data/ETHUSDT_1_data.csv
2024-10-04 15:07:26,417 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:07:26,418 - INFO - Сводка данных для ETHUSDT (1):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043620000        ETHUSDT    1          1728043620000 2382.580078125 2382.580078125 2382.0     2382.0     11.102100372314453 26448.23828125 370        0.9692999720573425 2309.10205078125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1727265480000        ETHUSDT    1          1727265480000 2627.39990234375 2627.89990234375 2627.39990234375 2627.820068359375 76.50299835205078 201012.703125 842        67.06340026855469 176209.25  11         6          0.258819043636322 -0.9659258127212524 -0.7818315029144287 0.6234897971153259

2024-10-04 15:07:27,064 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:07:27,064 - INFO - ------------------------
2024-10-04 15:07:29,083 - INFO - Обновление данных для ETHUSDT с 1728043200001 до 1728043500000 (2024-10-04 12:00:00 до 2024-10-04 12:05:00)
2024-10-04 15:07:29,468 - INFO - Данные сохранены в data/ETHUSDT_5_data.csv
2024-10-04 15:07:30,131 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:07:30,132 - INFO - Сводка данных для ETHUSDT (5):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043500000        ETHUSDT    5          1728043500000 2383.699951171875 2384.39990234375 2382.0     2382.389892578125 158.8697052001953 378600.53125 4553       85.08910369873047 202767.75  12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1726488000000        ETHUSDT    5          1726488000000 2307.800048828125 2310.610107421875 2306.60009765625 2309.989990234375 749.1240234375 1729554.25 5211       555.8009033203125 1283180.625 12         4          1.2246468525851679e-16 -1.0       -0.4338837265968323 -0.9009688496589661

2024-10-04 15:07:30,778 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:07:30,779 - INFO - ------------------------
2024-10-04 15:07:32,126 - INFO - Данные для ETHUSDT не требуют обновления. Используются текущие данные.
2024-10-04 15:07:32,126 - INFO - Сводка данных для ETHUSDT (15):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        ETHUSDT    15         1728043200000 2386.199951171875 2386.800048828125 2386.1201171875 2386.800048828125 13.31779956817627 31783.779296875 624        10.775699615478516 25716.595703125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1724932800000        ETHUSDT    15         1724932800000 2555.199951171875 2558.4599609375 2552.139892578125 2556.7900390625 1688.5289306640625 4314773.5  17545      720.7266845703125 1841737.125 12         0          1.2246468525851679e-16 -1.0       0.0        1.0       

2024-10-04 15:07:32,761 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:07:32,762 - INFO - ------------------------
2024-10-04 15:07:34,791 - INFO - Обновление данных для BTCUSDT с 1728043320001 до 1728043620000 (2024-10-04 12:02:00 до 2024-10-04 12:07:00)
2024-10-04 15:07:35,221 - INFO - Данные сохранены в data/BTCUSDT_1_data.csv
2024-10-04 15:07:35,881 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:07:35,882 - INFO - Сводка данных для BTCUSDT (1):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043620000        BTCUSDT    1          1728043620000 61434.0    61434.0    61431.28125 61433.8984375 1.400230050086975 86021.1015625 376        0.1842000037431717 11316.01953125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1727265480000        BTCUSDT    1          1727265480000 63842.640625 63848.0    63838.0    63838.0    4.534259796142578 289491.6875 912        3.17549991607666 202743.3125 11         6          0.258819043636322 -0.9659258127212524 -0.7818315029144287 0.6234897971153259

2024-10-04 15:07:36,538 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:07:36,539 - INFO - ------------------------
2024-10-04 15:07:38,590 - INFO - Обновление данных для BTCUSDT с 1728043200001 до 1728043500000 (2024-10-04 12:00:00 до 2024-10-04 12:05:00)
2024-10-04 15:07:38,979 - INFO - Данные сохранены в data/BTCUSDT_5_data.csv
2024-10-04 15:07:39,640 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:07:39,641 - INFO - Сводка данных для BTCUSDT (5):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043500000        BTCUSDT    5          1728043500000 61456.0390625 61456.05078125 61426.109375 61433.91015625 17.182769775390625 1055786.0  3247       6.6587300300598145 409136.65625 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1726488000000        BTCUSDT    5          1726488000000 58664.0    58735.98828125 58642.0    58718.0    33.45286178588867 1963466.625 7261       20.301000595092773 1191636.0  12         4          1.2246468525851679e-16 -1.0       -0.4338837265968323 -0.9009688496589661

2024-10-04 15:07:40,315 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:07:40,316 - INFO - ------------------------
2024-10-04 15:07:41,662 - INFO - Данные для BTCUSDT не требуют обновления. Используются текущие данные.
2024-10-04 15:07:41,662 - INFO - Сводка данных для BTCUSDT (15):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        BTCUSDT    15         1728043200000 61449.83984375 61458.859375 61448.98828125 61458.8515625 1.9523299932479858 119973.609375 573        1.700569987297058 104502.1328125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1724932800000        BTCUSDT    15         1724932800000 60067.05859375 60181.078125 59990.0    60084.0    265.12481689453125 15928289.0 36208      115.03851318359375 6911768.0  12         0          1.2246468525851679e-16 -1.0       0.0        1.0       

2024-10-04 15:07:42,326 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:07:42,327 - INFO - ------------------------
2024-10-04 15:07:43,327 - INFO - Все файлы обновлены с последними ценами.
2024-10-04 15:07:43,327 - INFO - Выполнение методов get_current_price и get_latest_prices для всех символов и интервалов.
2024-10-04 15:07:43,679 - INFO - Текущая цена для ETHUSDT (1):
    symbol  interval      timestamp         open         high     low        close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  ETHUSDT         1  1728043620000  2382.580078  2382.600098  2382.0  2382.330078  86.340897        205689.90625              1054                      30.8608                  73514.078125    12          1  1.224647e-16      -1.0  0.781832  0.62349
2024-10-04 15:07:43,716 - INFO - Последняя цена для ETHUSDT (1):
      symbol  interval      timestamp     open     high      low    close    volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
1    ETHUSDT         1  1728043620000  2382.58  2382.58  2382.00  2382.00   11.1021           26448.238               370                       0.9693                      2309.102    12          1  1.224647e-16 -1.000000  0.781832  0.62349
2    ETHUSDT         1  1728043560000  2383.01  2383.08  2382.01  2382.58   34.9807           83349.540              1710                      15.8236                     37702.438    12          1  1.224647e-16 -1.000000  0.781832  0.62349
5    ETHUSDT         1  1728043500000  2383.70  2384.40  2383.00  2383.00  108.6301          258900.810              2194                      64.4728                    153648.450    12          1  1.224647e-16 -1.000000  0.781832  0.62349
8    ETHUSDT         1  1728043440000  2383.44  2384.36  2382.64  2383.69  303.7555          724104.250              1621                      23.9771                     57147.180    12          1  1.224647e-16 -1.000000  0.781832  0.62349
11   ETHUSDT         1  1728043380000  2385.40  2385.40  2383.44  2383.44   59.4975          141855.670               881                      19.9931                     47662.900    12          1  1.224647e-16 -1.000000  0.781832  0.62349
..       ...       ...            ...      ...      ...      ...      ...       ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
748  ETHUSDT         1  1728025920000  2374.80  2375.74  2374.31  2374.95  362.4716          860901.250              1892                     166.6640                    395837.530     7          1  9.659258e-01 -0.258819  0.781832  0.62349
751  ETHUSDT         1  1728025860000  2372.80  2374.94  2372.80  2374.79   43.9799          104432.000              1400                      22.2094                     52732.664     7          1  9.659258e-01 -0.258819  0.781832  0.62349
754  ETHUSDT         1  1728025800000  2374.42  2374.42  2370.90  2372.79   85.2660          202261.360              3222                      35.3901                     83943.800     7          1  9.659258e-01 -0.258819  0.781832  0.62349
756  ETHUSDT         1  1728025740000  2375.00  2375.23  2374.41  2374.42  191.6417          455136.120              1102                      53.3246                    126627.670     7          1  9.659258e-01 -0.258819  0.781832  0.62349
758  ETHUSDT         1  1728025680000  2374.98  2375.67  2374.85  2374.99  156.1314          370855.530               604                      57.0329                    135457.690     7          1  9.659258e-01 -0.258819  0.781832  0.62349

[300 rows x 18 columns]
2024-10-04 15:07:45,919 - INFO - Текущая цена для ETHUSDT (5):
    symbol  interval      timestamp         open         high     low        close      volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  ETHUSDT         5  1728043500000  2383.699951  2384.399902  2382.0  2382.330078  229.951706           547940.25              4958                   111.157204                  264864.96875    12          1  1.224647e-16      -1.0  0.781832  0.62349
2024-10-04 15:07:45,954 - INFO - Последняя цена для ETHUSDT (5):
       symbol  interval      timestamp     open     high      low    close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
7     ETHUSDT         5  1728043500000  2383.70  2384.40  2382.00  2382.39   158.8697        3.786005e+05              4553                      85.0891                    202767.750    12          1  1.224647e-16 -1.000000  0.781832  0.62349
21    ETHUSDT         5  1728043200000  2386.20  2386.72  2386.12  2386.72    10.6905        2.551300e+04               573                       8.3018                     19811.950    12          1  1.224647e-16 -1.000000  0.781832  0.62349
32    ETHUSDT         5  1728042900000  2385.91  2385.98  2383.53  2384.75   176.2637        4.203767e+05              2717                      43.9279                    104751.734    11          1  2.588190e-01 -0.965926  0.781832  0.62349
44    ETHUSDT         5  1728042600000  2384.43  2386.49  2384.00  2385.90   299.4295        7.142573e+05              5393                     160.4486                    382737.660    11          1  2.588190e-01 -0.965926  0.781832  0.62349
59    ETHUSDT         5  1728042300000  2380.61  2384.44  2380.60  2384.44   313.4434        7.469956e+05              4078                     182.0606                    433836.750    11          1  2.588190e-01 -0.965926  0.781832  0.62349
...       ...       ...            ...      ...      ...      ...      ...        ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
3745  ETHUSDT         5  1727955000000  2356.43  2356.45  2347.81  2348.26  5778.9840        1.359968e+07             13054                    1566.9355                   3686292.000    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3757  ETHUSDT         5  1727954700000  2354.21  2359.81  2353.98  2356.42   558.1958        1.315417e+06              7998                     321.8039                    758301.300    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3767  ETHUSDT         5  1727954400000  2362.11  2362.66  2353.51  2354.20   892.8825        2.106367e+06             11280                     322.1513                    759926.200    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3783  ETHUSDT         5  1727954100000  2366.41  2366.58  2360.52  2362.12   843.7156        1.994249e+06             10288                     222.5167                    525804.900    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3792  ETHUSDT         5  1727953800000  2366.99  2368.66  2365.15  2366.41   896.8899        2.122980e+06             10367                     258.4522                    611628.500    11          0  2.588190e-01 -0.965926  0.000000  1.00000

[300 rows x 18 columns]
2024-10-04 15:07:47,313 - INFO - Текущая цена для ETHUSDT (15):
    symbol  interval      timestamp         open    high     low        close      volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  ETHUSDT        15  1728043200000  2386.199951  2387.0  2382.0  2382.330078  832.590088          1985140.25             12238                   273.289703                   651632.9375    12          1  1.224647e-16      -1.0  0.781832  0.62349
2024-10-04 15:07:47,347 - INFO - Последняя цена для ETHUSDT (15):
        symbol  interval      timestamp     open     high      low    close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day   cos_day
20     ETHUSDT        15  1728043200000  2386.20  2386.80  2386.12  2386.80    13.3178            31783.78               624                      10.7757                     25716.596    12          1  1.224647e-16 -1.000000  0.781832  0.623490
54     ETHUSDT        15  1728042300000  2380.61  2386.49  2380.60  2384.76   789.9527          1883575.90             12194                     387.0750                    922847.400    11          1  2.588190e-01 -0.965926  0.781832  0.623490
94     ETHUSDT        15  1728041400000  2378.91  2382.00  2378.00  2380.61  1123.2635          2672941.80             14413                     640.7400                   1524555.100    11          1  2.588190e-01 -0.965926  0.781832  0.623490
130    ETHUSDT        15  1728040500000  2379.25  2382.84  2378.21  2378.90  1108.7366          2639710.50             14342                     600.4699                   1429835.400    11          1  2.588190e-01 -0.965926  0.781832  0.623490
169    ETHUSDT        15  1728039600000  2375.17  2379.62  2374.21  2379.24   785.0437          1865993.90             17167                     421.3286                   1001540.400    11          1  2.588190e-01 -0.965926  0.781832  0.623490
...        ...       ...            ...      ...      ...      ...      ...        ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...       ...
11229  ETHUSDT        15  1727777700000  2632.99  2636.86  2631.59  2635.40  2006.5388          5284911.50             16870                     595.3239                   1568155.500    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11269  ETHUSDT        15  1727776800000  2635.19  2637.50  2632.07  2632.99  2018.0824          5316706.00             16263                     733.5127                   1932551.400    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11304  ETHUSDT        15  1727775900000  2637.69  2640.00  2634.65  2635.18  1250.7848          3299279.80             10756                     440.6499                   1162381.600     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11345  ETHUSDT        15  1727775000000  2642.88  2643.25  2636.82  2637.69  2026.0142          5348170.50              9969                     707.4836                   1867484.400     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11383  ETHUSDT        15  1727774100000  2644.86  2645.47  2640.00  2642.87  1630.5599          4308992.50             14437                     794.3692                   2099262.800     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521

[300 rows x 18 columns]
2024-10-04 15:07:48,711 - INFO - Текущая цена для BTCUSDT (1):
    symbol  interval      timestamp     open     high          low         close   volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  BTCUSDT         1  1728043620000  61434.0  61434.0  61431.28125  61433.910156  1.53977        94593.585938               428                      0.25051                  15389.701172    12          1  1.224647e-16      -1.0  0.781832  0.62349
2024-10-04 15:07:48,753 - INFO - Последняя цена для BTCUSDT (1):
      symbol  interval      timestamp      open      high       low     close    volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0    BTCUSDT         1  1728043620000  61434.00  61434.00  61431.28  61433.90   1.40023            86021.10               376                      0.18420                     11316.020    12          1  1.224647e-16 -1.000000  0.781832  0.62349
3    BTCUSDT         1  1728043560000  61442.01  61442.01  61426.11  61434.00   5.13987           315753.20              1485                      2.52862                    155333.840    12          1  1.224647e-16 -1.000000  0.781832  0.62349
6    BTCUSDT         1  1728043500000  61456.04  61456.05  61442.00  61442.01  10.61170           652109.20              1372                      3.93573                    241861.390    12          1  1.224647e-16 -1.000000  0.781832  0.62349
9    BTCUSDT         1  1728043440000  61446.00  61456.05  61434.22  61456.04   6.07302           373170.44              1586                      4.92933                    302897.880    12          1  1.224647e-16 -1.000000  0.781832  0.62349
10   BTCUSDT         1  1728043380000  61472.49  61472.49  61446.00  61446.00   3.24779           199609.27              1583                      0.40582                     24942.006    12          1  1.224647e-16 -1.000000  0.781832  0.62349
..       ...       ...            ...       ...       ...       ...       ...       ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
749  BTCUSDT         1  1728025920000  61142.00  61170.00  61142.00  61161.63  18.96937          1160127.40              1705                     16.94025                   1036013.800     7          1  9.659258e-01 -0.258819  0.781832  0.62349
750  BTCUSDT         1  1728025860000  61088.23  61142.00  61088.23  61142.00   7.78256           475786.44              1540                      5.88858                    359988.800     7          1  9.659258e-01 -0.258819  0.781832  0.62349
752  BTCUSDT         1  1728025800000  61132.00  61132.01  61068.00  61088.23  11.97283           731627.20              3168                      0.97227                     59396.300     7          1  9.659258e-01 -0.258819  0.781832  0.62349
757  BTCUSDT         1  1728025740000  61141.78  61149.82  61132.00  61132.00  10.74027           656699.00              1010                      7.67955                    469564.660     7          1  9.659258e-01 -0.258819  0.781832  0.62349
759  BTCUSDT         1  1728025680000  61129.60  61141.79  61129.60  61141.78   2.85972           174823.94               447                      2.38526                    145817.810     7          1  9.659258e-01 -0.258819  0.781832  0.62349

[300 rows x 18 columns]
2024-10-04 15:07:50,111 - INFO - Текущая цена для BTCUSDT (5):
    symbol  interval      timestamp          open          high           low         close     volume  ...  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  BTCUSDT         5  1728043500000  61456.039062  61456.050781  61426.109375  61433.910156  17.293051  ...                      6.71632                    412674.625    12          1  1.224647e-16      -1.0  0.781832  0.62349

[1 rows x 18 columns]
2024-10-04 15:07:50,146 - INFO - Последняя цена для BTCUSDT (5):
       symbol  interval      timestamp      open      high       low     close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
4     BTCUSDT         5  1728043500000  61456.04  61456.05  61426.11  61433.91   17.18277          1055786.00              3247                      6.65873                     409136.66    12          1  1.224647e-16 -1.000000  0.781832  0.62349
19    BTCUSDT         5  1728043200000  61449.84  61458.00  61448.99  61457.99    1.88296           115710.26               481                      1.63379                     100397.95    12          1  1.224647e-16 -1.000000  0.781832  0.62349
30    BTCUSDT         5  1728042900000  61456.00  61456.00  61400.00  61440.00   27.13787          1666718.80              4187                      9.88309                     606960.20    11          1  2.588190e-01 -0.965926  0.781832  0.62349
43    BTCUSDT         5  1728042600000  61465.50  61483.02  61449.70  61456.00   53.31801          3277459.00              6016                     36.07981                    2217850.20    11          1  2.588190e-01 -0.965926  0.781832  0.62349
57    BTCUSDT         5  1728042300000  61394.02  61469.00  61394.01  61465.50   26.63522          1636691.80              5554                     20.24487                    1243993.10    11          1  2.588190e-01 -0.965926  0.781832  0.62349
...       ...       ...            ...       ...       ...       ...       ...        ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
3740  BTCUSDT         5  1727955000000  60722.05  60760.65  60594.00  60622.00  119.81434          7268758.00             17461                     52.32459                    3172936.50    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3756  BTCUSDT         5  1727954700000  60689.02  60794.72  60679.94  60722.05   82.29679          4998126.50             12327                     16.69351                    1013791.94    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3766  BTCUSDT         5  1727954400000  60900.00  60905.97  60679.92  60689.02  154.58961          9396492.00             15268                     42.05248                    2555546.20    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3778  BTCUSDT         5  1727954100000  61001.16  61001.17  60900.00  60900.00   49.87969          3039922.50             11046                     13.88404                     846243.25    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3793  BTCUSDT         5  1727953800000  61025.10  61050.41  60994.00  61001.16   23.14982          1412495.80             10519                     12.24533                     747177.75    11          0  2.588190e-01 -0.965926  0.000000  1.00000

[300 rows x 18 columns]
2024-10-04 15:07:51,495 - INFO - Текущая цена для BTCUSDT (15):
    symbol  interval      timestamp          open          high           low         close     volume  ...  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  BTCUSDT        15  1728043200000  61449.839844  61502.699219  61426.109375  61433.910156  82.716293  ...                    33.854679                     2080991.0    12          1  1.224647e-16      -1.0  0.781832  0.62349

[1 rows x 18 columns]
2024-10-04 15:07:51,539 - INFO - Последняя цена для BTCUSDT (15):
        symbol  interval      timestamp      open      high       low     close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day   cos_day
18     BTCUSDT        15  1728043200000  61449.84  61458.86  61448.99  61458.85    1.95233           119973.61               573                      1.70057                     104502.13    12          1  1.224647e-16 -1.000000  0.781832  0.623490
56     BTCUSDT        15  1728042300000  61394.02  61483.02  61394.01  61439.99  107.23911          6589963.00             15779                     66.35461                    4077825.50    11          1  2.588190e-01 -0.965926  0.781832  0.623490
92     BTCUSDT        15  1728041400000  61320.32  61420.00  61301.75  61394.02  130.54375          8009725.00             22083                     73.86198                    4532674.50    11          1  2.588190e-01 -0.965926  0.781832  0.623490
133    BTCUSDT        15  1728040500000  61411.99  61460.00  61320.31  61320.31  235.35864         14443928.00             19323                     38.81200                    2383073.20    11          1  2.588190e-01 -0.965926  0.781832  0.623490
170    BTCUSDT        15  1728039600000  61284.01  61420.00  61274.00  61411.99   87.25890          5352607.50             21776                     52.50074                    3220560.50    11          1  2.588190e-01 -0.965926  0.781832  0.623490
...        ...       ...            ...       ...       ...       ...       ...        ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...       ...
11231  BTCUSDT        15  1727777700000  63753.91  63871.44  63750.00  63850.00  100.80818          6433290.50             20646                     54.13152                    3454072.00    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11267  BTCUSDT        15  1727776800000  63864.47  63892.39  63707.89  63753.91  275.74530         17594600.00             25454                     88.56388                    5651176.00    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11307  BTCUSDT        15  1727775900000  63943.54  63964.00  63864.46  63864.46  111.21354          7110134.50             12441                     48.73248                    3115494.50     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11341  BTCUSDT        15  1727775000000  64058.00  64058.01  63941.32  63943.54  111.65746          7145016.00             15286                     33.55119                    2146673.50     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11379  BTCUSDT        15  1727774100000  64086.78  64088.76  64002.10  64058.00  148.36633          9502988.00             19282                     63.49062                    4066586.80     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521

[300 rows x 18 columns]
2024-10-04 15:07:52,539 - INFO - Завершено.
2024-10-04 15:07:52,573 - INFO - Latest dataset loaded with 300 records.
2024-10-04 15:07:52,574 - INFO - Порядок столбцов после transform: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:07:52,574 - INFO - Типы данных после transform:
2024-10-04 15:07:52,575 - INFO - symbol                            int64
interval                          int64
timestamp                         int64
open                            float32
high                            float32
low                             float32
close                           float32
volume                          float32
quote_asset_volume              float32
number_of_trades                  int64
taker_buy_base_asset_volume     float32
taker_buy_quote_asset_volume    float32
hour                              int64
dayofweek                         int64
sin_hour                        float32
cos_hour                        float32
sin_day                         float32
cos_day                         float32
dtype: object
2024-10-04 15:07:52,648 - INFO - Predicted prices saved to data/predictions.csv.
2024-10-04 15:07:52,650 - INFO - Logging is set up.
2024-10-04 15:07:52,650 - INFO - Используемое устройство: cuda
2024-10-04 15:07:52,650 - INFO - DataProcessor загружен: models/data_processor_ETHUSDT_v2.0.pkl
2024-10-04 15:07:52,690 - INFO - Комбинированные данные загружены из data/combined_dataset.csv
2024-10-04 15:07:52,715 - INFO - Порядок столбцов после transform: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:07:52,716 - INFO - Типы данных после transform:
2024-10-04 15:07:52,716 - INFO - symbol                            int64
interval                          int64
timestamp                         int64
open                            float32
high                            float32
low                             float32
close                           float32
volume                          float32
quote_asset_volume              float32
number_of_trades                  int64
taker_buy_base_asset_volume     float32
taker_buy_quote_asset_volume    float32
hour                              int64
dayofweek                         int64
sin_hour                        float32
cos_hour                        float32
sin_day                         float32
cos_day                         float32
dtype: object
2024-10-04 15:07:52,716 - INFO - num_symbols: 2, num_intervals: 3
2024-10-04 15:07:52,716 - INFO - Columns after processing: ['symbol', 'interval', 'timestamp', 'open', 'high', 'low', 'close', 'volume', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'hour', 'dayofweek', 'sin_hour', 'cos_hour', 'sin_day', 'cos_day']
2024-10-04 15:07:52,886 - INFO - Оптимизатор загружен из models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 15:07:52,886 - INFO - Модель загружена из models/enhanced_bilstm_model_ETHUSDT_v2.0.pth.
2024-10-04 15:08:14,470 - INFO - Epoch 1/5 - Loss: 8547931400874.6670
2024-10-04 15:08:14,555 - INFO - Модель сохранена в models/enhanced_bilstm_model_ETHUSDT_v2.0.pth, а оптимизатор в models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 15:08:14,555 - INFO - Validation loss improved to 8547931400874.6670. Model saved.
2024-10-04 15:08:36,499 - INFO - Epoch 2/5 - Loss: 8536597068263.6191
2024-10-04 15:08:36,581 - INFO - Модель сохранена в models/enhanced_bilstm_model_ETHUSDT_v2.0.pth, а оптимизатор в models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 15:08:36,581 - INFO - Validation loss improved to 8536597068263.6191. Model saved.
2024-10-04 15:08:58,680 - INFO - Epoch 3/5 - Loss: 8538103694092.1904
2024-10-04 15:08:58,680 - INFO - No improvement in validation loss. (1/5)
2024-10-04 15:08:58,680 - INFO - Reducing learning rate to: 0.00025
2024-10-04 15:09:19,584 - INFO - Epoch 4/5 - Loss: 8535205528332.1904
2024-10-04 15:09:19,671 - INFO - Модель сохранена в models/enhanced_bilstm_model_ETHUSDT_v2.0.pth, а оптимизатор в models/enhanced_bilstm_model_ETHUSDT_v2.0_optimizer.pth.
2024-10-04 15:09:19,671 - INFO - Validation loss improved to 8535205528332.1904. Model saved.
2024-10-04 15:09:41,631 - INFO - Epoch 5/5 - Loss: 8544365006652.9521
2024-10-04 15:09:41,631 - INFO - No improvement in validation loss. (1/5)
2024-10-04 15:09:41,631 - INFO - Reducing learning rate to: 0.000125
2024-10-04 15:09:41,631 - INFO - Скрипт запущен
2024-10-04 15:09:42,002 - INFO - Binance API доступен. Время сервера: 2024-10-04 12:09:42
2024-10-04 15:09:43,038 - INFO - Обновление данных для ETHUSDT с 1728043620001 до 1728043740000 (2024-10-04 12:07:00 до 2024-10-04 12:09:00)
2024-10-04 15:09:43,476 - INFO - Данные сохранены в data/ETHUSDT_1_data.csv
2024-10-04 15:09:44,234 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:09:44,234 - INFO - Сводка данных для ETHUSDT (1):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043740000        ETHUSDT    1          1728043740000 2382.31005859375 2382.31005859375 2381.10009765625 2381.22998046875 43.16659927368164 102803.9609375 642        16.083900451660156 38301.80859375 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1727265480000        ETHUSDT    1          1727265480000 2627.39990234375 2627.89990234375 2627.39990234375 2627.820068359375 76.50299835205078 201012.703125 842        67.06340026855469 176209.25  11         6          0.258819043636322 -0.9659258127212524 -0.7818315029144287 0.6234897971153259

2024-10-04 15:09:44,912 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:09:44,912 - INFO - ------------------------
2024-10-04 15:09:46,259 - INFO - Данные для ETHUSDT не требуют обновления. Используются текущие данные.
2024-10-04 15:09:46,260 - INFO - Сводка данных для ETHUSDT (5):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043500000        ETHUSDT    5          1728043500000 2383.699951171875 2384.39990234375 2382.0     2382.389892578125 158.8697052001953 378600.53125 4553       85.08910369873047 202767.75  12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1726488000000        ETHUSDT    5          1726488000000 2307.800048828125 2310.610107421875 2306.60009765625 2309.989990234375 749.1240234375 1729554.25 5211       555.8009033203125 1283180.625 12         4          1.2246468525851679e-16 -1.0       -0.4338837265968323 -0.9009688496589661

2024-10-04 15:09:46,924 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:09:46,924 - INFO - ------------------------
2024-10-04 15:09:48,271 - INFO - Данные для ETHUSDT не требуют обновления. Используются текущие данные.
2024-10-04 15:09:48,272 - INFO - Сводка данных для ETHUSDT (15):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        ETHUSDT    15         1728043200000 2386.199951171875 2386.800048828125 2386.1201171875 2386.800048828125 13.31779956817627 31783.779296875 624        10.775699615478516 25716.595703125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1724932800000        ETHUSDT    15         1724932800000 2555.199951171875 2558.4599609375 2552.139892578125 2556.7900390625 1688.5289306640625 4314773.5  17545      720.7266845703125 1841737.125 12         0          1.2246468525851679e-16 -1.0       0.0        1.0       

2024-10-04 15:09:48,969 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:09:48,970 - INFO - ------------------------
2024-10-04 15:09:51,027 - INFO - Обновление данных для BTCUSDT с 1728043620001 до 1728043740000 (2024-10-04 12:07:00 до 2024-10-04 12:09:00)
2024-10-04 15:09:51,468 - INFO - Данные сохранены в data/BTCUSDT_1_data.csv
2024-10-04 15:09:52,205 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:09:52,206 - INFO - Сводка данных для BTCUSDT (1):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043740000        BTCUSDT    1          1728043740000 61428.0    61428.0    61400.0    61400.0    4.180469989776611 256727.0625 1485       0.9702799916267395 59580.6015625 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1727265480000        BTCUSDT    1          1727265480000 63842.640625 63848.0    63838.0    63838.0    4.534259796142578 289491.6875 912        3.17549991607666 202743.3125 11         6          0.258819043636322 -0.9659258127212524 -0.7818315029144287 0.6234897971153259

2024-10-04 15:09:52,865 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:09:52,865 - INFO - ------------------------
2024-10-04 15:09:54,219 - INFO - Данные для BTCUSDT не требуют обновления. Используются текущие данные.
2024-10-04 15:09:54,219 - INFO - Сводка данных для BTCUSDT (5):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043500000        BTCUSDT    5          1728043500000 61456.0390625 61456.05078125 61426.109375 61433.91015625 17.182769775390625 1055786.0  3247       6.6587300300598145 409136.65625 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1726488000000        BTCUSDT    5          1726488000000 58664.0    58735.98828125 58642.0    58718.0    33.45286178588867 1963466.625 7261       20.301000595092773 1191636.0  12         4          1.2246468525851679e-16 -1.0       -0.4338837265968323 -0.9009688496589661

2024-10-04 15:09:54,889 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:09:54,889 - INFO - ------------------------
2024-10-04 15:09:57,557 - INFO - Данные для BTCUSDT не требуют обновления. Используются текущие данные.
2024-10-04 15:09:57,558 - INFO - Сводка данных для BTCUSDT (15):
Timestamp            Symbol     Interval   Timestamp  Open       High       Low        Close      Volume     Quote_asset_volume Number_of_trades Taker_buy_base_asset_volume Taker_buy_quote_asset_volume Hour       Dayofweek  Sin_hour   Cos_hour   Sin_day    Cos_day   
First                1728043200000        BTCUSDT    15         1728043200000 61449.83984375 61458.859375 61448.98828125 61458.8515625 1.9523299932479858 119973.609375 573        1.700569987297058 104502.1328125 12         1          1.2246468525851679e-16 -1.0       0.7818315029144287 0.6234897971153259
Last                 1724932800000        BTCUSDT    15         1724932800000 60067.05859375 60181.078125 59990.0    60084.0    265.12481689453125 15928289.0 36208      115.03851318359375 6911768.0  12         0          1.2246468525851679e-16 -1.0       0.0        1.0       

2024-10-04 15:09:58,232 - INFO - Комбинированный набор данных обновлен: data/combined_dataset.csv
2024-10-04 15:09:58,233 - INFO - ------------------------
2024-10-04 15:09:59,233 - INFO - Все файлы обновлены с последними ценами.
2024-10-04 15:09:59,233 - INFO - Выполнение методов get_current_price и get_latest_prices для всех символов и интервалов.
2024-10-04 15:09:59,626 - INFO - Текущая цена для ETHUSDT (1):
    symbol  interval      timestamp         open         high          low        close     volume  ...  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  ETHUSDT         1  1728043740000  2382.310059  2382.310059  2381.100098  2381.399902  78.544502  ...                    21.257299                  50620.898438    12          1  1.224647e-16      -1.0  0.781832  0.62349

[1 rows x 18 columns]
2024-10-04 15:09:59,659 - INFO - Последняя цена для ETHUSDT (1):
      symbol  interval      timestamp     open     high      low    close    volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
1    ETHUSDT         1  1728043740000  2382.31  2382.31  2381.10  2381.23   43.1666          102803.960               642                      16.0839                     38301.810    12          1  1.224647e-16 -1.000000  0.781832  0.62349
2    ETHUSDT         1  1728043680000  2382.60  2383.20  2382.08  2382.31   28.1175           66989.234              1368                       8.9679                     21366.250    12          1  1.224647e-16 -1.000000  0.781832  0.62349
5    ETHUSDT         1  1728043620000  2382.58  2382.58  2382.00  2382.00   11.1021           26448.238               370                       0.9693                      2309.102    12          1  1.224647e-16 -1.000000  0.781832  0.62349
6    ETHUSDT         1  1728043560000  2383.01  2383.08  2382.01  2382.58   34.9807           83349.540              1710                      15.8236                     37702.438    12          1  1.224647e-16 -1.000000  0.781832  0.62349
11   ETHUSDT         1  1728043500000  2383.70  2384.40  2383.00  2383.00  108.6301          258900.810              2194                      64.4728                    153648.450    12          1  1.224647e-16 -1.000000  0.781832  0.62349
..       ...       ...            ...      ...      ...      ...      ...       ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
749  ETHUSDT         1  1728026040000  2373.73  2375.60  2373.73  2375.60   63.4893          150774.730               603                      20.2318                     48048.168     7          1  9.659258e-01 -0.258819  0.781832  0.62349
750  ETHUSDT         1  1728025980000  2374.95  2375.37  2373.73  2373.74  424.7798         1008841.800              2256                      69.2504                    164468.600     7          1  9.659258e-01 -0.258819  0.781832  0.62349
753  ETHUSDT         1  1728025920000  2374.80  2375.74  2374.31  2374.95  362.4716          860901.250              1892                     166.6640                    395837.530     7          1  9.659258e-01 -0.258819  0.781832  0.62349
754  ETHUSDT         1  1728025860000  2372.80  2374.94  2372.80  2374.79   43.9799          104432.000              1400                      22.2094                     52732.664     7          1  9.659258e-01 -0.258819  0.781832  0.62349
756  ETHUSDT         1  1728025800000  2374.42  2374.42  2370.90  2372.79   85.2660          202261.360              3222                      35.3901                     83943.800     7          1  9.659258e-01 -0.258819  0.781832  0.62349

[300 rows x 18 columns]
2024-10-04 15:10:01,015 - INFO - Текущая цена для ETHUSDT (5):
    symbol  interval      timestamp         open         high          low        close      volume  ...  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  ETHUSDT         5  1728043500000  2383.699951  2384.399902  2381.100098  2381.399902  344.144989  ...                   148.447098                    353682.625    12          1  1.224647e-16      -1.0  0.781832  0.62349

[1 rows x 18 columns]
2024-10-04 15:10:01,050 - INFO - Последняя цена для ETHUSDT (5):
       symbol  interval      timestamp     open     high      low    close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
10    ETHUSDT         5  1728043500000  2383.70  2384.40  2382.00  2382.39   158.8697        3.786005e+05              4553                      85.0891                    202767.750    12          1  1.224647e-16 -1.000000  0.781832  0.62349
21    ETHUSDT         5  1728043200000  2386.20  2386.72  2386.12  2386.72    10.6905        2.551300e+04               573                       8.3018                     19811.950    12          1  1.224647e-16 -1.000000  0.781832  0.62349
37    ETHUSDT         5  1728042900000  2385.91  2385.98  2383.53  2384.75   176.2637        4.203767e+05              2717                      43.9279                    104751.734    11          1  2.588190e-01 -0.965926  0.781832  0.62349
49    ETHUSDT         5  1728042600000  2384.43  2386.49  2384.00  2385.90   299.4295        7.142573e+05              5393                     160.4486                    382737.660    11          1  2.588190e-01 -0.965926  0.781832  0.62349
60    ETHUSDT         5  1728042300000  2380.61  2384.44  2380.60  2384.44   313.4434        7.469956e+05              4078                     182.0606                    433836.750    11          1  2.588190e-01 -0.965926  0.781832  0.62349
...       ...       ...            ...      ...      ...      ...      ...        ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
3748  ETHUSDT         5  1727955000000  2356.43  2356.45  2347.81  2348.26  5778.9840        1.359968e+07             13054                    1566.9355                   3686292.000    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3758  ETHUSDT         5  1727954700000  2354.21  2359.81  2353.98  2356.42   558.1958        1.315417e+06              7998                     321.8039                    758301.300    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3772  ETHUSDT         5  1727954400000  2362.11  2362.66  2353.51  2354.20   892.8825        2.106367e+06             11280                     322.1513                    759926.200    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3785  ETHUSDT         5  1727954100000  2366.41  2366.58  2360.52  2362.12   843.7156        1.994249e+06             10288                     222.5167                    525804.900    11          0  2.588190e-01 -0.965926  0.000000  1.00000
3798  ETHUSDT         5  1727953800000  2366.99  2368.66  2365.15  2366.41   896.8899        2.122980e+06             10367                     258.4522                    611628.500    11          0  2.588190e-01 -0.965926  0.000000  1.00000

[300 rows x 18 columns]
2024-10-04 15:10:02,404 - INFO - Текущая цена для ETHUSDT (15):
    symbol  interval      timestamp         open    high          low        close      volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  ETHUSDT        15  1728043200000  2386.199951  2387.0  2381.100098  2381.409912  948.087219           2260222.5             14545                   311.948914                     743711.25    12          1  1.224647e-16      -1.0  0.781832  0.62349
2024-10-04 15:10:02,437 - INFO - Последняя цена для ETHUSDT (15):
        symbol  interval      timestamp     open     high      low    close     volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day   cos_day
24     ETHUSDT        15  1728043200000  2386.20  2386.80  2386.12  2386.80    13.3178            31783.78               624                      10.7757                     25716.596    12          1  1.224647e-16 -1.000000  0.781832  0.623490
63     ETHUSDT        15  1728042300000  2380.61  2386.49  2380.60  2384.76   789.9527          1883575.90             12194                     387.0750                    922847.400    11          1  2.588190e-01 -0.965926  0.781832  0.623490
99     ETHUSDT        15  1728041400000  2378.91  2382.00  2378.00  2380.61  1123.2635          2672941.80             14413                     640.7400                   1524555.100    11          1  2.588190e-01 -0.965926  0.781832  0.623490
137    ETHUSDT        15  1728040500000  2379.25  2382.84  2378.21  2378.90  1108.7366          2639710.50             14342                     600.4699                   1429835.400    11          1  2.588190e-01 -0.965926  0.781832  0.623490
177    ETHUSDT        15  1728039600000  2375.17  2379.62  2374.21  2379.24   785.0437          1865993.90             17167                     421.3286                   1001540.400    11          1  2.588190e-01 -0.965926  0.781832  0.623490
...        ...       ...            ...      ...      ...      ...      ...        ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...       ...
11230  ETHUSDT        15  1727777700000  2632.99  2636.86  2631.59  2635.40  2006.5388          5284911.50             16870                     595.3239                   1568155.500    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11273  ETHUSDT        15  1727776800000  2635.19  2637.50  2632.07  2632.99  2018.0824          5316706.00             16263                     733.5127                   1932551.400    10          5  5.000000e-01 -0.866025 -0.974928 -0.222521
11310  ETHUSDT        15  1727775900000  2637.69  2640.00  2634.65  2635.18  1250.7848          3299279.80             10756                     440.6499                   1162381.600     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11349  ETHUSDT        15  1727775000000  2642.88  2643.25  2636.82  2637.69  2026.0142          5348170.50              9969                     707.4836                   1867484.400     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521
11382  ETHUSDT        15  1727774100000  2644.86  2645.47  2640.00  2642.87  1630.5599          4308992.50             14437                     794.3692                   2099262.800     9          5  7.071068e-01 -0.707107 -0.974928 -0.222521

[300 rows x 18 columns]
2024-10-04 15:10:03,854 - INFO - Текущая цена для BTCUSDT (1):
    symbol  interval      timestamp     open          high           low         close   volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0  BTCUSDT         1  1728043800000  61402.0  61411.988281  61401.988281  61411.988281  0.54703        33590.488281               542                      0.53048                  32574.121094    12          1  1.224647e-16      -1.0  0.781832  0.62349
2024-10-04 15:10:03,887 - INFO - Последняя цена для BTCUSDT (1):
      symbol  interval      timestamp      open      high       low     close    volume  quote_asset_volume  number_of_trades  taker_buy_base_asset_volume  taker_buy_quote_asset_volume  hour  dayofweek      sin_hour  cos_hour   sin_day  cos_day
0    BTCUSDT         1  1728043740000  61428.00  61428.00  61400.00  61400.00   4.18047           256727.06              1485                      0.97028                      59580.60    12          1  1.224647e-16 -1.000000  0.781832  0.62349
3    BTCUSDT         1  1728043680000  61433.90  61444.66  61418.42  61427.99  10.11429           621309.60              1861                      3.53277                     217027.77    12          1  1.224647e-16 -1.000000  0.781832  0.62349
4    BTCUSDT         1  1728043620000  61434.00  61434.00  61431.28  61433.90   1.40023            86021.10               376                      0.18420                      11316.02    12          1  1.224647e-16 -1.000000  0.781832  0.62349
7    BTCUSDT         1  1728043560000  61442.01  61442.01  61426.11  61434.00   5.13987           315753.20              1485                      2.52862                     155333.84    12          1  1.224647e-16 -1.000000  0.781832  0.62349
8    BTCUSDT         1  1728043500000  61456.04  61456.05  61442.00  61442.01  10.61170           652109.20              1372                      3.93573                     241861.39    12          1  1.224647e-16 -1.000000  0.781832  0.62349
..       ...       ...            ...       ...       ...       ...       ...       ...                 ...               ...                          ...                           ...   ...        ...           ...       ...       ...      ...
748  BTCUSDT         1  1728026040000  61162.01  61188.00  61162.01  61188.00   6.98070           427078.62              1014                      6.79146                     415501.47     7          1  9.659258e-01 -0.258819  0.781832  0.62349
751  BTCUSDT         1  1728025980000  61161.64  61177.11  61161.63  61162.01   7.22605           442028.16              1465                      2.22335                     136000.25     7          1  9.659258e-01 -0.258819  0.781832  0.62349
752  BTCUSDT         1  1728025920000  61142.00  61170.00  61142.00  61161.63  18.96937          1160127.40              1705                     16.94025                    1036013.80     7          1  9.659258e-01 -0.258819  0.781832  0.62349
755  BTCUSDT         1  1728025860000  61088.23  61142.00  61088.23  61142.00   7.78256           475786.44              1540                      5.88858                     359988.80     7          1  9.659258e-01 -0.258819  0.781832  0.62349
758  BTCUSDT         1  1728025800000  61132.00  61132.01  61068.00  61088.23  11.97283           731627.20              3168                      0.97227                      59396.30     7          1  9.659258e-01 -0.258819  0.781832  0.62349

[300 rows x 18 columns]
